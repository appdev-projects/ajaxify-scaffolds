<p id="notice"><%= notice %></p>

<h1>Movies</h1>

<table>
  <thead>
    <tr>
      <th>Title</th>
      <th>Year</th>
      <th>Director</th>
      <th>Description</th>
      <th>Duration</th>

      <th colspan="3"></th>
    </tr>
  </thead>

  <%= form_with(model: Movie.new, local: false, id: "new_movie_form") do |form| %>
    <tr>
      <td>
        <%= form.label :title %>
        <%= form.text_field :title %>
      </td>

      <td>
        <%= form.label :year %>
        <%= form.number_field :year %>
      </td>

      <td>
        <%= form.label :director_id %>
        <%= form.collection_select :director_id, Director.order(:name), :id, :name %>
      </td>

      <td>
        <%= form.label :description %>
        <%= form.text_area :description %>
      </td>

      <td>
        <%= form.label :duration %>
        <%= form.number_field :duration %>
      </td>

      <td class="actions">
        <%= form.submit %>
      </td>
    </tr>
  <% end %>
  
  <tbody id="movies">
    <%= render @movies.order(created_at: :desc, id: :desc) %>
  </tbody>
</table>
