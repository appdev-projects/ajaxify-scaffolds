<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

<p id="notice"><%= notice %></p>

<h1>Movies</h1>

<table>
  <thead>
    <tr>
      <th>Title</th>
      <th>Description</th>
      <th>Duration</th>
      <th>Year</th>
      <th>Director</th>
      <th colspan="3"></th>
    </tr>
  </thead>
    <tr>
      <%= render 'form', movie: @movie %>
    </tr>
  <tbody id="movies">
  
    <% @movies.each do |movie| %>
        <tr id= "movie_<%= movie.id %>">
        <td><%= link_to movie.title, edit_movie_path(movie) %></td>
        <td><%= movie.description %></td>
        <td><%= movie.duration %></td>
        <td><%= movie.year %></td>
        <td><%= movie.director_id %></td>
        <td><%= link_to 'Show', movie %></td>
        <td><%= link_to 'Edit', edit_movie_path(movie) %></td>
        <td><%= link_to 'Destroy', movie, remote: true, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Movie', new_movie_path %>
