<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

<p id="notice"><%= notice %></p>

<h2>Movies</h2>

<table>
  <thead>
    <tr>
      <th>Title</th>
      <th>Year</th>
      <th>Director</th>

      <th>Description</th>
      <th>Duration</th>
      <th>Image</th>
      
      
      <th colspan="3"></th>
    </tr>
  </thead>
    <tr>
      <%= render 'form', movie: @movie %>
    </tr>
  <tbody id="movies">
  
    <% @movies.each do |movie| %>
      <tr id= "movie_<%= movie.id %>">
        <td id= "title"><%= link_to movie.title, edit_title_path(movie), remote:true %></td>
         <td id= "year"><%= link_to movie.year, edit_year_path(movie), remote:true %></td>
        
        <td id= "director"><%= link_to movie.director.name, edit_director_path(movie), remote: true %></td>
        <td>
          <div id="movie_<%= movie.id %>_description">
                  <details>
                    <summary>
                      Show description
                    </summary>
                    
                    <p><%= movie.description %></p>

                    <%= link_to 'Edit', edit_description_path(movie), remote: true %>
                    </details>
          </div>
        
        </td>
        <td id= "duration"><%= link_to movie.duration, edit_duration_path(movie), remote:true %></td>
       
        
        
        <td>
        
             <div id="movie_<%= movie.id %>_image">
                  <details>
                    <summary>
                      Show Image
                    </summary>
                    
                    <p><%=image_tag( movie.image) %></p>

                    <%= link_to 'Edit', edit_image_path(movie), remote: true %>
                    </details>
            </div>
        
        </td>
        
        <td><%= link_to 'Destroy', movie, remote: true, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>


